â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                    æ±å—äºé‡‘èæ–°èç³»çµ± - è³‡æ–™æµç¨‹åˆ†æ
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ç•¶å‰æ¶æ§‹ï¼ˆæœ‰å•é¡Œï¼‰ï¼š
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  1. Research Agent (research_agent.py)                          â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚     â”‚  è¼¸å…¥: ç”¨æˆ¶æŸ¥è©¢ "æ–°åŠ å¡è‚¡å¸‚å‹•æ…‹"          â”‚                â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â”‚                      â†“                                           â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚     â”‚  OpenAI Agent + DuckDuckGo Tools         â”‚                â”‚
â”‚     â”‚  - æœå°‹ç›¸é—œæ–°è                          â”‚                â”‚
â”‚     â”‚  - Prompt è¦æ±‚è¿”å› JSON âŒ (æœªç”Ÿæ•ˆ)     â”‚                â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â”‚                      â†“                                           â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚     â”‚  è¼¸å‡º: Dict[str, Any]                    â”‚                â”‚
â”‚     â”‚  {                                       â”‚                â”‚
â”‚     â”‚    "status": "success",                  â”‚                â”‚
â”‚     â”‚    "query": "...",                       â”‚                â”‚
â”‚     â”‚    "content": "Markdown æ–‡å­—..." âœ…      â”‚                â”‚
â”‚     â”‚  }                                       â”‚                â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  2. Analyst Agent (analyst_agent.py)                            â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚     â”‚  è¼¸å…¥: search_results["content"]         â”‚                â”‚
â”‚     â”‚        (Markdown æ–‡å­—)                   â”‚                â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â”‚                      â†“                                           â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚     â”‚  OpenAI Agent                            â”‚                â”‚
â”‚     â”‚  - æ•´ç†å’Œçµæ§‹åŒ–è³‡è¨Š                      â”‚                â”‚
â”‚     â”‚  - ç”Ÿæˆå°ˆæ¥­å ±å‘Šæ ¼å¼                      â”‚                â”‚
â”‚     â”‚  - ä½¿ç”¨ Markdown æ ¼å¼ âœ…                â”‚                â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â”‚                      â†“                                           â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚     â”‚  è¼¸å‡º: Markdown æ–‡å­—                     â”‚                â”‚
â”‚     â”‚  # æ±å—äºé‡‘èæ–°èå ±å‘Š                    â”‚                â”‚
â”‚     â”‚  ## å ±å‘Šæ‘˜è¦                             â”‚                â”‚
â”‚     â”‚  æœ¬å ±å‘Šæ¶µè“‹...                           â”‚                â”‚
â”‚     â”‚  ## æ–°èè©³æƒ…                             â”‚                â”‚
â”‚     â”‚  ### 1. æ–°èæ¨™é¡Œ                         â”‚                â”‚
â”‚     â”‚  - **ä¾†æº**: [Link](URL)                 â”‚                â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  3. Report Generator Agent (report_agent.py) âŒ å•é¡Œåœ¨é€™è£¡      â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚     â”‚  è¼¸å…¥: Markdown æ–‡å­—                     â”‚                â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â”‚                      â†“                                           â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚     â”‚  _parse_markdown_to_story()              â”‚                â”‚
â”‚     â”‚  âŒ å•é¡Œ:                                 â”‚                â”‚
â”‚     â”‚  - import markdown (æœªä½¿ç”¨)              â”‚                â”‚
â”‚     â”‚  - ä½¿ç”¨ç°¡å–®å­—ç¬¦ä¸²åŒ¹é…                    â”‚                â”‚
â”‚     â”‚  - lines = content.split('\n')           â”‚                â”‚
â”‚     â”‚  - if line.startswith('# '):             â”‚                â”‚
â”‚     â”‚  - elif line.startswith('## '):          â”‚                â”‚
â”‚     â”‚  - ç„¡æ³•è™•ç†è¤‡é›œæ ¼å¼                      â”‚                â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â”‚                      â†“                                           â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚     â”‚  ReportLab PDF                           â”‚                â”‚
â”‚     â”‚  âš ï¸  æ ¼å¼ä¸å®Œæ•´                          â”‚                â”‚
â”‚     â”‚  - åŸºæœ¬æ¨™é¡Œ âœ…                           â”‚                â”‚
â”‚     â”‚  - ç²—é«”/æ–œé«” âŒ                          â”‚                â”‚
â”‚     â”‚  - é€£çµ âš ï¸ (éƒ¨åˆ†è™•ç†)                    â”‚                â”‚
â”‚     â”‚  - åˆ—è¡¨ âœ…                               â”‚                â”‚
â”‚     â”‚  - ä¸­æ–‡å­—é«” âš ï¸                           â”‚                â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


æ”¹é€²å¾Œæ¶æ§‹ï¼ˆæ¨è–¦æ–¹æ¡ˆAï¼‰ï¼š
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  1. Research Agent (research_agent.py) - ä¸è®Š                   â”‚
â”‚     è¼¸å‡º: {"status": "success", "content": "Markdown..."}       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  2. Analyst Agent (analyst_agent.py) - ä¸è®Š                     â”‚
â”‚     è¼¸å‡º: Markdown æ–‡å­—                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  3. Report Generator Agent (report_agent.py) âœ… æ”¹é€²            â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚     â”‚  è¼¸å…¥: Markdown æ–‡å­—                     â”‚                â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â”‚                      â†“                                           â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚     â”‚  Step 1: Markdown â†’ HTML                 â”‚                â”‚
â”‚     â”‚  âœ… ä½¿ç”¨ markdown.markdown()             â”‚                â”‚
â”‚     â”‚  html = markdown.markdown(               â”‚                â”‚
â”‚     â”‚      content,                            â”‚                â”‚
â”‚     â”‚      extensions=['extra', 'nl2br']       â”‚                â”‚
â”‚     â”‚  )                                       â”‚                â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â”‚                      â†“                                           â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚     â”‚  Step 2: HTML â†’ ReportLab å…ƒç´            â”‚                â”‚
â”‚     â”‚  âœ… ä½¿ç”¨ BeautifulSoup/HTMLParser        â”‚                â”‚
â”‚     â”‚  soup = BeautifulSoup(html)              â”‚                â”‚
â”‚     â”‚  for tag in soup.descendants:            â”‚                â”‚
â”‚     â”‚      if tag.name == 'h1':                â”‚                â”‚
â”‚     â”‚          â†’ Paragraph(CustomTitle)        â”‚                â”‚
â”‚     â”‚      elif tag.name == 'strong':          â”‚                â”‚
â”‚     â”‚          â†’ <b>text</b>                   â”‚                â”‚
â”‚     â”‚      elif tag.name == 'a':               â”‚                â”‚
â”‚     â”‚          â†’ <link href="...">text</link>  â”‚                â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â”‚                      â†“                                           â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚     â”‚  Step 3: ç”Ÿæˆ PDF                        â”‚                â”‚
â”‚     â”‚  âœ… å®Œæ•´æ ¼å¼æ”¯æ´                         â”‚                â”‚
â”‚     â”‚  - æ¨™é¡Œ (H1, H2, H3) âœ…                  â”‚                â”‚
â”‚     â”‚  - ç²—é«”/æ–œé«” âœ…                          â”‚                â”‚
â”‚     â”‚  - é€£çµ âœ…                               â”‚                â”‚
â”‚     â”‚  - åˆ—è¡¨ (æœ‰åº/ç„¡åº) âœ…                   â”‚                â”‚
â”‚     â”‚  - ä¸­æ–‡å­—é«” âœ…                           â”‚                â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


æ›¿ä»£æ–¹æ¡ˆBï¼ˆJSON æ•¸æ“šæµï¼‰ï¼š
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  1. Research Agent                                              â”‚
â”‚     è¼¸å‡º: JSON çµæ§‹åŒ–æ•¸æ“š                                       â”‚
â”‚     {                                                           â”‚
â”‚       "results": [                                              â”‚
â”‚         {                                                       â”‚
â”‚           "title": "...",                                       â”‚
â”‚           "summary": "...",                                     â”‚
â”‚           "url": "...",                                         â”‚
â”‚           "date": "..."                                         â”‚
â”‚         }                                                       â”‚
â”‚       ]                                                         â”‚
â”‚     }                                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  2. Analyst Agent                                               â”‚
â”‚     è¼¸å…¥: JSON æ•¸æ“š                                             â”‚
â”‚     è™•ç†: åˆ†æå’Œè±å¯Œæ•¸æ“š                                        â”‚
â”‚     è¼¸å‡º: å¢å¼·çš„ JSON æ•¸æ“š                                      â”‚
â”‚     {                                                           â”‚
â”‚       "summary": "...",                                         â”‚
â”‚       "insights": [...],                                        â”‚
â”‚       "news": [...]                                             â”‚
â”‚     }                                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  3. Report Generator Agent                                      â”‚
â”‚     è¼¸å…¥: JSON æ•¸æ“š                                             â”‚
â”‚     è™•ç†: ç›´æ¥å¾ JSON ç”Ÿæˆ PDF å…ƒç´                              â”‚
â”‚     å„ªé»:                                                       â”‚
â”‚     - âœ… ç²¾ç¢ºæ§åˆ¶æ ¼å¼                                           â”‚
â”‚     - âœ… ä¸éœ€è¦è§£æ Markdown                                    â”‚
â”‚     ç¼ºé»:                                                       â”‚
â”‚     - âŒ éœ€è¦ä¿®æ”¹ 3 å€‹ Agent                                    â”‚
â”‚     - âŒ å¤±å» AI è‡ªç„¶èªè¨€ç”Ÿæˆå„ªå‹¢                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


é—œéµä»£ç¢¼ä½ç½®ï¼š
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“ agents/report_agent.py

Line 8:   import markdown  âŒ å°å…¥ä½†æœªä½¿ç”¨
Line 170: def _parse_markdown_to_story()  âŒ å•é¡Œå‡½æ•¸
Line 176:     lines = markdown_content.split('\n')  âŒ ç°¡å–®åˆ†å‰²
Line 183:     if line.startswith('# '):  âŒ å­—ç¬¦ä¸²åŒ¹é…
Line 189:     elif line.startswith('## '):  âŒ å­—ç¬¦ä¸²åŒ¹é…
Line 195:     elif line.startswith('### '):  âŒ å­—ç¬¦ä¸²åŒ¹é…
Line 223: def _clean_markdown()  âš ï¸  æ­£å‰‡è¡¨é”å¼ï¼Œæœ‰é™æ”¯æ´
Line 238: def _clean_markdown_links()  âš ï¸  åŸºæœ¬é€£çµè™•ç†


éœ€è¦ä¿®æ”¹çš„ä»£ç¢¼ï¼š
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ä¿®æ”¹å‰ (Line 170-221):
def _parse_markdown_to_story(self, markdown_content: str):
    story = []
    lines = markdown_content.split('\n')  # âŒ
    for line in lines:
        if line.startswith('# '):  # âŒ
            # ...

ä¿®æ”¹å¾Œ:
def _parse_markdown_to_story(self, markdown_content: str):
    # âœ… ä½¿ç”¨ markdown åº«
    html = markdown.markdown(
        markdown_content,
        extensions=['extra', 'nl2br', 'sane_lists']
    )
    
    # âœ… è§£æ HTML
    soup = BeautifulSoup(html, 'html.parser')
    story = []
    
    # âœ… éæ­· HTML å…ƒç´ 
    for element in soup.descendants:
        if element.name == 'h1':
            story.append(Paragraph(element.text, self.styles['CustomTitle']))
        elif element.name == 'h2':
            story.append(Paragraph(element.text, self.styles['CustomHeading2']))
        # ... æ›´å¤šæ¨™ç±¤è™•ç†


ç¸½çµï¼š
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âœ… æ‡‰è©²ç”¨ JSON çš„åœ°æ–¹ï¼š
   - é…ç½®æ–‡ä»¶
   - Agent ä¹‹é–“å‚³éçµæ§‹åŒ–æ•¸æ“šï¼ˆå¯é¸ï¼‰
   - å¦‚æœéœ€è¦è¤‡é›œçš„æ•¸æ“šé©—è­‰

âœ… æ‡‰è©²ç”¨ Python è™•ç† Markdown çš„åœ°æ–¹ï¼š
   - report_agent.py (ä¸»è¦ä¿®æ”¹é»)
   - ä½¿ç”¨ markdown åº«å°‡ Markdown â†’ HTML
   - ä½¿ç”¨ BeautifulSoup å°‡ HTML â†’ ReportLab å…ƒç´ 

âš ï¸  ç•¶å‰å•é¡Œï¼š
   - markdown åº«å·²å°å…¥ä½†æœªä½¿ç”¨
   - ä½¿ç”¨ç°¡å–®å­—ç¬¦ä¸²åŒ¹é…æ›¿ä»£æ­£ç¢ºçš„è§£æ
   - çµæœï¼šPDF æ ¼å¼ä¸å®Œæ•´

ğŸ¯ æ¨è–¦æ–¹æ¡ˆï¼š
   æ–¹æ¡ˆ A - æ”¹é€² report_agent.py çš„ Markdown è§£æ
   - æœ€å°ä¿®æ”¹
   - æœ€å¤§æ•ˆç›Š
   - ä¿æŒç¾æœ‰æ¶æ§‹

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
