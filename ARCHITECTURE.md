# ğŸ—ï¸ FastAPI å¾Œç«¯æ¶æ§‹åœ–

## ç³»çµ±æ•´é«”æ¶æ§‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         ä½¿ç”¨è€…                              â”‚
â”‚                    (Web Browser)                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â”‚ HTTP Request/Response
                    â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     å‰ç«¯å±¤                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Static Frontend (public/index.html)                â”‚   â”‚
â”‚  â”‚  - ä½¿ç”¨è€…è¼¸å…¥è¡¨å–®                                    â”‚   â”‚
â”‚  â”‚  - ä»»å‹™æäº¤                                         â”‚   â”‚
â”‚  â”‚  - ç‹€æ…‹è¼ªè©¢                                         â”‚   â”‚
â”‚  â”‚  - é€²åº¦é¡¯ç¤º                                         â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â”‚ REST API Calls
                    â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    FastAPI å¾Œç«¯                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  app/main.py                                        â”‚   â”‚
â”‚  â”‚  - FastAPI Application                             â”‚   â”‚
â”‚  â”‚  - CORS Middleware                                 â”‚   â”‚
â”‚  â”‚  - Static Files Serving                            â”‚   â”‚
â”‚  â”‚  - Router Registration                             â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                    â”‚                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  app/routers/tasks.py                              â”‚   â”‚
â”‚  â”‚  - POST /api/tasks/news-report                     â”‚   â”‚
â”‚  â”‚  - GET  /api/tasks/{task_id}                       â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                    â”‚                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  app/services/                                      â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚  â”‚  â”‚ progress.py                                  â”‚  â”‚   â”‚
â”‚  â”‚  â”‚ - TaskProgress (ç‹€æ…‹ç®¡ç†)                   â”‚  â”‚   â”‚
â”‚  â”‚  â”‚ - create_task()                             â”‚  â”‚   â”‚
â”‚  â”‚  â”‚ - get_task()                                â”‚  â”‚   â”‚
â”‚  â”‚  â”‚ - update_task()                             â”‚  â”‚   â”‚
â”‚  â”‚  â”‚ - set_running/succeeded/failed()            â”‚  â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚  â”‚  â”‚ workflow.py                                  â”‚  â”‚   â”‚
â”‚  â”‚  â”‚ - NewsReportWorkflow                        â”‚  â”‚   â”‚
â”‚  â”‚  â”‚ - execute_task() (èƒŒæ™¯ä»»å‹™)                 â”‚  â”‚   â”‚
â”‚  â”‚  â”‚ - _parse_prompt()                           â”‚  â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â”‚ èª¿ç”¨æ—¢æœ‰ Agents
                     â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Agent å±¤ (æ—¢æœ‰)                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  agents/research_agent.py                           â”‚   â”‚
â”‚  â”‚  - ResearchAgent                                    â”‚   â”‚
â”‚  â”‚  - search() - æœå°‹æ–°è                              â”‚   â”‚
â”‚  â”‚  - 18 å€‹ç™½åå–®ä¾†æº                                  â”‚   â”‚
â”‚  â”‚  - å¤šæ¨£æ€§å»ºè­°                                       â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                    â”‚                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  agents/analyst_agent.py                           â”‚   â”‚
â”‚  â”‚  - AnalystAgent                                    â”‚   â”‚
â”‚  â”‚  - analyze() - åˆ†æèˆ‡çµæ§‹åŒ–                         â”‚   â”‚
â”‚  â”‚  - Markdown å ±å‘Šç”Ÿæˆ                               â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                    â”‚                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  agents/report_agent.py                            â”‚   â”‚
â”‚  â”‚  - ReportGeneratorAgent                            â”‚   â”‚
â”‚  â”‚  - generate_pdf() - PDF ç”Ÿæˆ                       â”‚   â”‚
â”‚  â”‚  - generate_excel() - Excel ç”Ÿæˆ                   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                    â”‚                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  agents/email_agent.py                             â”‚   â”‚
â”‚  â”‚  - EmailAgent                                      â”‚   â”‚
â”‚  â”‚  - send_report() - éƒµä»¶ç™¼é€                         â”‚   â”‚
â”‚  â”‚  - PDF + Excel é™„ä»¶                                â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â”‚ è¼¸å‡º
                     â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   è¼¸å‡ºèˆ‡å¤–éƒ¨æœå‹™                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  reports/ ç›®éŒ„                                      â”‚   â”‚
â”‚  â”‚  - PDF å ±å‘Š                                         â”‚   â”‚
â”‚  â”‚  - Excel å ±å‘Š                                       â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  SMTP éƒµä»¶æœå‹™ (Gmail)                              â”‚   â”‚
â”‚  â”‚  - ç™¼é€éƒµä»¶                                         â”‚   â”‚
â”‚  â”‚  - é™„åŠ  PDF + Excel                                 â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  OpenAI API                                         â”‚   â”‚
â”‚  â”‚  - GPT-4 æ·±åº¦æœå°‹                                   â”‚   â”‚
â”‚  â”‚  - éœ€æ±‚è§£æ                                         â”‚   â”‚
â”‚  â”‚  - æ–°èåˆ†æ                                         â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## API æµç¨‹åœ–

### å‰µå»ºä»»å‹™æµç¨‹

```
ä½¿ç”¨è€…                å‰ç«¯              FastAPI           æœå‹™å±¤            Agents
  â”‚                    â”‚                  â”‚                 â”‚                 â”‚
  â”‚â”€â”€â”€ å¡«å¯«è¡¨å–® â”€â”€â”€â”€â”€>â”‚                  â”‚                 â”‚                 â”‚
  â”‚                    â”‚                  â”‚                 â”‚                 â”‚
  â”‚                    â”‚â”€â”€ POST /api/tasks/news-report â”€â”€>â”‚                 â”‚
  â”‚                    â”‚                  â”‚                 â”‚                 â”‚
  â”‚                    â”‚                  â”‚â”€â”€ create_task()â”€>â”‚                â”‚
  â”‚                    â”‚                  â”‚                 â”‚                 â”‚
  â”‚                    â”‚                  â”‚<â”€â”€ task_id â”€â”€â”€â”€â”€â”‚                â”‚
  â”‚                    â”‚                  â”‚                 â”‚                 â”‚
  â”‚                    â”‚                  â”‚â”€â”€ add_task(background) â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
  â”‚                    â”‚                  â”‚                 â”‚                 â”‚
  â”‚                    â”‚<â”€â”€ 201 Created (task_id) â”€â”€â”€â”€â”€â”€â”€â”€â”‚                 â”‚
  â”‚                    â”‚                  â”‚                 â”‚                 â”‚
  â”‚<â”€â”€ é¡¯ç¤ºä»»å‹™å·²å‰µå»º â”€â”‚                  â”‚                 â”‚                 â”‚
  â”‚                    â”‚                  â”‚                 â”‚   (èƒŒæ™¯åŸ·è¡Œ)    â”‚
  â”‚                    â”‚                  â”‚                 â”‚<â”€â”€ execute_task()â”‚
  â”‚                    â”‚                  â”‚                 â”‚                 â”‚
  â”‚                    â”‚                  â”‚                 â”‚   1. è§£æéœ€æ±‚   â”‚
  â”‚                    â”‚                  â”‚                 â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
  â”‚                    â”‚                  â”‚                 â”‚   (LLM)         â”‚
  â”‚                    â”‚                  â”‚                 â”‚                 â”‚
  â”‚                    â”‚                  â”‚                 â”‚   2. æœå°‹æ–°è   â”‚
  â”‚                    â”‚                  â”‚                 â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
  â”‚                    â”‚                  â”‚                 â”‚   (Research)    â”‚
  â”‚                    â”‚                  â”‚                 â”‚                 â”‚
  â”‚                    â”‚                  â”‚                 â”‚   3. åˆ†æå ±å‘Š   â”‚
  â”‚                    â”‚                  â”‚                 â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
  â”‚                    â”‚                  â”‚                 â”‚   (Analyst)     â”‚
  â”‚                    â”‚                  â”‚                 â”‚                 â”‚
  â”‚                    â”‚                  â”‚                 â”‚   4. ç”Ÿæˆæ–‡ä»¶   â”‚
  â”‚                    â”‚                  â”‚                 â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
  â”‚                    â”‚                  â”‚                 â”‚   (Report)      â”‚
  â”‚                    â”‚                  â”‚                 â”‚                 â”‚
  â”‚                    â”‚                  â”‚                 â”‚   5. ç™¼é€éƒµä»¶   â”‚
  â”‚                    â”‚                  â”‚                 â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
  â”‚                    â”‚                  â”‚                 â”‚   (Email)       â”‚
  â”‚                    â”‚                  â”‚                 â”‚                 â”‚
  â”‚                    â”‚                  â”‚                 â”‚<â”€â”€ å®Œæˆ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
  â”‚                    â”‚                  â”‚                 â”‚                 â”‚
  â”‚                    â”‚                  â”‚<â”€â”€ set_succeeded()â”€â”˜              â”‚
```

### è¼ªè©¢ç‹€æ…‹æµç¨‹

```
å‰ç«¯                FastAPI           æœå‹™å±¤
  â”‚                  â”‚                 â”‚
  â”‚â”€â”€ GET /api/tasks/{task_id} â”€â”€â”€â”€â”€>â”‚
  â”‚                  â”‚                 â”‚
  â”‚                  â”‚â”€â”€ get_task() â”€â”€>â”‚
  â”‚                  â”‚                 â”‚
  â”‚                  â”‚<â”€â”€ task_status â”€â”‚
  â”‚                  â”‚                 â”‚
  â”‚<â”€â”€ 200 OK (ç‹€æ…‹è³‡è¨Š) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
  â”‚                  â”‚                 â”‚
  â”‚   (2 ç§’å¾Œ)       â”‚                 â”‚
  â”‚                  â”‚                 â”‚
  â”‚â”€â”€ GET /api/tasks/{task_id} â”€â”€â”€â”€â”€>â”‚
  â”‚                  â”‚                 â”‚
  â”‚   ... é‡è¤‡ç›´åˆ° succeeded/failed
```

## è³‡æ–™æµ

### è«‹æ±‚è³‡æ–™æµ

```
JSON Request Body
{
  "user_prompt": "æ–°åŠ å¡é‡‘èç§‘æŠ€ç™¼å±•è¶¨å‹¢",
  "email": "user@example.com",
  "language": "English",
  "time_range": "æœ€è¿‘ 7 å¤©å…§",
  "count_hint": "5-10ç¯‡"
}
        â”‚
        â–¼
  Pydantic é©—è­‰
  (NewsReportRequest)
        â”‚
        â–¼
  TaskProgress.create_task()
  å»ºç«‹ä»»å‹™ç´€éŒ„
        â”‚
        â–¼
  BackgroundTasks.add_task()
  åŠ å…¥èƒŒæ™¯ä»»å‹™ä½‡åˆ—
        â”‚
        â–¼
  è¿”å› task_id
```

### ä»»å‹™åŸ·è¡Œè³‡æ–™æµ

```
Task åŸ·è¡Œ
    â”‚
    â”œâ”€> 1. è§£æ Prompt (LLM)
    â”‚       â””â”€> keywords, time, count, language
    â”‚
    â”œâ”€> 2. æœå°‹æ–°è (ResearchAgent)
    â”‚       â””â”€> search_results (å« URLã€æ¨™é¡Œã€å…§å®¹)
    â”‚
    â”œâ”€> 3. åˆ†æå ±å‘Š (AnalystAgent)
    â”‚       â””â”€> markdown_report + structured_news
    â”‚
    â”œâ”€> 4. ç”Ÿæˆå ±å‘Š (ReportGeneratorAgent)
    â”‚       â”œâ”€> generate_pdf() â†’ PDF æª”æ¡ˆ
    â”‚       â””â”€> generate_excel() â†’ Excel æª”æ¡ˆ
    â”‚
    â””â”€> 5. ç™¼é€éƒµä»¶ (EmailAgent)
            â””â”€> SMTP ç™¼é€ (PDF + Excel é™„ä»¶)
```

## ç‹€æ…‹ç®¡ç†

### ä»»å‹™ç‹€æ…‹æµè½‰

```
            å‰µå»ºä»»å‹™
                â”‚
                â–¼
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚ queued  â”‚ (æ’éšŠä¸­)
          â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
               â”‚ é–‹å§‹åŸ·è¡Œ
               â–¼
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚ running â”‚ (åŸ·è¡Œä¸­)
          â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
               â”‚
       â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚                â”‚
       â–¼                â–¼
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚succeeded â”‚    â”‚  failed  â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   (æˆåŠŸ)           (å¤±æ•—)
```

### é€²åº¦è¿½è¹¤

```
Progress: 0%    - queued
Progress: 10%   - running (é–‹å§‹)
Progress: 15%   - prompt_parsing
Progress: 20%   - prompt_parsing (å®Œæˆ)
Progress: 25%   - searching
Progress: 40%   - searching (å®Œæˆ)
Progress: 45%   - analyzing
Progress: 60%   - analyzing (å®Œæˆ)
Progress: 65%   - generating_report
Progress: 80%   - generating_report (å®Œæˆ)
Progress: 85%   - sending_email
Progress: 95%   - sending_email (å®Œæˆ)
Progress: 100%  - succeeded (å®Œæˆ)
```

## ç›®éŒ„çµæ§‹

```
SEANewsAlert/
â”‚
â”œâ”€â”€ app/                          # FastAPI å¾Œç«¯æ‡‰ç”¨
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ main.py                   # ä¸»æ‡‰ç”¨ç¨‹å¼
â”‚   â”‚   â”œâ”€â”€ FastAPI() åˆå§‹åŒ–
â”‚   â”‚   â”œâ”€â”€ CORS è¨­å®š
â”‚   â”‚   â”œâ”€â”€ Router è¨»å†Š
â”‚   â”‚   â””â”€â”€ éœæ…‹æ–‡ä»¶æœå‹™
â”‚   â”‚
â”‚   â”œâ”€â”€ routers/                  # API è·¯ç”±å±¤
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â””â”€â”€ tasks.py
â”‚   â”‚       â”œâ”€â”€ POST /api/tasks/news-report
â”‚   â”‚       â””â”€â”€ GET  /api/tasks/{task_id}
â”‚   â”‚
â”‚   â””â”€â”€ services/                 # æ¥­å‹™é‚è¼¯å±¤
â”‚       â”œâ”€â”€ __init__.py
â”‚       â”œâ”€â”€ progress.py           # ä»»å‹™ç‹€æ…‹ç®¡ç†
â”‚       â”‚   â”œâ”€â”€ TaskStatus (enum)
â”‚       â”‚   â”œâ”€â”€ TaskProgress (class)
â”‚       â”‚   â””â”€â”€ task_manager (å¯¦ä¾‹)
â”‚       â”‚
â”‚       â””â”€â”€ workflow.py           # å·¥ä½œæµç¨‹å°è£
â”‚           â””â”€â”€ NewsReportWorkflow
â”‚               â”œâ”€â”€ execute_task() (ä¸»æµç¨‹)
â”‚               â””â”€â”€ _parse_prompt() (éœ€æ±‚è§£æ)
â”‚
â”œâ”€â”€ agents/                       # AI Agents (æ—¢æœ‰)
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ research_agent.py         # æœå°‹ä»£ç†
â”‚   â”œâ”€â”€ analyst_agent.py          # åˆ†æä»£ç†
â”‚   â”œâ”€â”€ report_agent.py           # å ±å‘Šç”Ÿæˆ
â”‚   â””â”€â”€ email_agent.py            # éƒµä»¶ç™¼é€
â”‚
â”œâ”€â”€ public/                       # éœæ…‹å‰ç«¯
â”‚   â””â”€â”€ index.html                # æ¸¬è©¦é é¢
â”‚
â”œâ”€â”€ reports/                      # å ±å‘Šè¼¸å‡ºç›®éŒ„
â”‚   â”œâ”€â”€ *.pdf                     # PDF å ±å‘Š
â”‚   â””â”€â”€ *.xlsx                    # Excel å ±å‘Š
â”‚
â”œâ”€â”€ config.py                     # é…ç½®ç®¡ç†
â”œâ”€â”€ .env                          # ç’°å¢ƒè®Šæ•¸
â”œâ”€â”€ .env.example                  # ç’°å¢ƒè®Šæ•¸ç¯„ä¾‹
â”‚
â”œâ”€â”€ requirements-api.txt          # API ä¾è³´
â”œâ”€â”€ pyproject.toml                # å°ˆæ¡ˆé…ç½®
â”‚
â”œâ”€â”€ start-api.bat                 # Windows å•Ÿå‹•è…³æœ¬
â”œâ”€â”€ start-api.sh                  # Linux/Mac å•Ÿå‹•è…³æœ¬
â”œâ”€â”€ START-API.ps1                 # PowerShell å•Ÿå‹•è…³æœ¬
â”‚
â”œâ”€â”€ test_setup.py                 # ç’°å¢ƒé©—è­‰æ¸¬è©¦
â”œâ”€â”€ test_api.py                   # API åŠŸèƒ½æ¸¬è©¦
â”‚
â”œâ”€â”€ README-API.md                 # å®Œæ•´ API æ–‡æª”
â”œâ”€â”€ QUICKSTART-API.md             # å¿«é€Ÿå•Ÿå‹•æŒ‡å—
â”œâ”€â”€ FASTAPI_DELIVERY_SUMMARY.md  # äº¤ä»˜ç¸½çµ
â””â”€â”€ ARCHITECTURE.md               # æœ¬æ¶æ§‹åœ– (æ­¤æ–‡ä»¶)
```

## æŠ€è¡“å †ç–Š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         æ‡‰ç”¨å±¤ (Application)            â”‚
â”‚  - FastAPI                              â”‚
â”‚  - Pydantic                             â”‚
â”‚  - BackgroundTasks                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         æœå‹™å±¤ (Services)               â”‚
â”‚  - NewsReportWorkflow                   â”‚
â”‚  - TaskProgress                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Agent å±¤ (Agents)               â”‚
â”‚  - ResearchAgent (Agno + OpenAI)        â”‚
â”‚  - AnalystAgent (Agno + OpenAI)         â”‚
â”‚  - ReportGeneratorAgent (ReportLab)     â”‚
â”‚  - EmailAgent (SMTP)                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         å¤–éƒ¨æœå‹™ (External)             â”‚
â”‚  - OpenAI API (GPT-4)                   â”‚
â”‚  - DuckDuckGo (æœå°‹)                    â”‚
â”‚  - SMTP Server (Gmail)                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

**æ–‡ä»¶ç‰ˆæœ¬**: 1.0  
**æœ€å¾Œæ›´æ–°**: 2025-01-16
